@tailwind base;
@tailwind components;
@tailwind utilities;

/* Critical above-the-fold styles */
@layer base {
  html {
    scroll-behavior: smooth;
    font-display: swap;
  }

  body {
    font-feature-settings: "rlig" 1, "calt" 1;
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Reduce motion for users who prefer it */
  @media (prefers-reduced-motion: reduce) {

    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Optimize focus styles for accessibility */
  *:focus-visible {
    outline: 2px solid theme('colors.emerald.400');
    outline-offset: 2px;
  }

  /* Prevent layout shifts */
  img {
    height: auto;
    max-width: 100%;
  }

  /* Optimize scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    background: theme('colors.slate.800');
  }

  ::-webkit-scrollbar-thumb {
    background: theme('colors.emerald.400');
    border-radius: 4px;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: theme('colors.emerald.300');
  }
}

@layer components {

  /* Component styles for consistency */
  .btn-primary {
    @apply border-2 border-emerald-400 text-emerald-400 px-8 py-3 rounded-lg font-medium hover:bg-emerald-400 hover:text-slate-900 focus:outline-none focus:ring-2 focus:ring-emerald-400 focus:ring-offset-2 focus:ring-offset-slate-900 transition-all duration-300;
  }

  .section-heading {
    @apply text-4xl font-bold text-white mb-16;
    font-family: 'Ubuntu', sans-serif;
  }

  .text-body {
    @apply text-slate-300 leading-relaxed;
    font-family: 'Ubuntu', sans-serif;
  }

  .text-mono {
    font-family: 'Ubuntu Mono', monospace;
  }
}

@layer utilities {

  /* Performance utilities */
  .will-change-transform {
    will-change: transform;
  }

  .will-change-auto {
    will-change: auto;
  }

  .gpu-accelerated {
    transform: translateZ(0);
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Optimized shadows for better performance */
  .shadow-optimized {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  }
}

/* Font loading optimization */
@font-face {
  font-family: 'Ubuntu';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: url('https://fonts.gstatic.com/s/ubuntu/v20/4iCs6KVjbNBYlgoKfw72.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Ubuntu';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: url('https://fonts.gstatic.com/s/ubuntu/v20/4iCv6KVjbNBYlgoCxCvTt2aMd4M.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}